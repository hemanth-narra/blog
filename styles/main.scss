*, *:before, *:after {
	box-sizing: border-box;
}

@mixin transition-all {
	transition: all 0.1s ease-in-out;
}

$ls: 1.5rem;

$bgColorLight: white;
$bodyColorLight: #555;
$strongColorLight: #333;
$fadeColorLight: #999;
$accentColorLight: #3498db;

$bgColorDark: #2b3d4f;
$bodyColorDark: #ccd;
$strongColorDark: #eaeaf5;
$fadeColorDark: #99b;
$accentColorDark: #3498db;

:root {
	--bgColor: #{$bgColorLight};
	--bodyColor: #{$bodyColorLight};
	--faintBodyColor: #{lighten($bodyColorLight, 15%)};
	--strongColor: #{$strongColorLight};
	--fadeColor: #{$fadeColorLight};
	--faintFadeColor: #{lighten($fadeColorLight, 15%)};
	--accentColor: #{$accentColorLight};
	--faintAccentColor: #{saturate(lighten($accentColorLight, 35%), 20%)};
}

@mixin link {
	color: var(--strongColor);
	text-decoration: none;
	background-image: linear-gradient(
		transparent 72.5%, 
		var(--faintAccentColor) 72.5%,
		var(--faintAccentColor) 92.5%,
		transparent 92.5%
	);

	&:hover {
		background-image: linear-gradient(
			transparent 0%, 
			var(--faintAccentColor) 0%,
			var(--faintAccentColor) 92.5%,
			transparent 92.5%
		);
	}
}

::selection {
	background-color: var(--accentColor);
}

html {
	font-size: 15pt;
	min-height: 100%;
	position: relative;
}

body {
	height: 100%;
	background-color: var(--bgColor);
	font-family: 'Nunito', sans-serif;
	margin: 0;
	color: var(--bodyColor);
}

header {
	height: 3*$ls;
	display: flex;
	align-items: center;
	justify-content: space-between;
	width: 40*$ls;
	max-width: 100%;
	margin: 0 auto;
	text-align: center;

	h1.title {
		margin: 0;
		line-height: 3*$ls;
		color: var(--strongColor);
		font-size: 1.8rem;
		padding: 0 $ls;
	}

	nav {
		display: flex;
		height: 100%;

		a {
			color: var(--strongColor);
			text-decoration: none;
			line-height: 3*$ls;
			padding: 0 $ls;
		}
	}
}

main {
	width: 40*$ls;
	max-width: 100%;
	margin: 4*$ls auto 2*$ls;
}

article {
	padding: 2*$ls;
	margin-top: $ls;

	/* ===== POST META (DATE + AUTHORS) ===== */
	.post-meta {
		display: flex;
		align-items: center;
		font-size: 0.9rem;
		line-height: $ls;
		color: var(--fadeColor);
		gap: 0.25rem;
	}

	.post-author {
		color: var(--bodyColor);
	}

	h1 {
		font-size: 2.6rem;
		margin-top: $ls;
		line-height: 2*$ls;
		color: var(--strongColor);
	}

	h2 {
		font-size: 1.4rem;
		font-style: italic;
		color: var(--fadeColor);
		margin-top: $ls;
	}

	p {
		line-height: $ls;
		margin-top: $ls;
	}

	section.content {
		a {
			@include link;
		}
	}
}

/* ===== FOOTER ===== */
footer {
	text-align: center;

	p {
		margin: $ls 0;

		a {
			@include link;
		}
	}
}

/* ===== DARK MODE ===== */
@media (prefers-color-scheme: dark) {
	:root {
		--bgColor: #{$bgColorDark};
		--bodyColor: #{$bodyColorDark};
		--strongColor: #{$strongColorDark};
		--fadeColor: #{$fadeColorDark};
		--accentColor: #{$accentColorDark};
	}
}

/* ===== MOBILE FIX (IMPORTANT) ===== */
@media (max-width: 500px) {
	header {
		flex-direction: column;
		height: auto;
	}

	main {
		margin: $ls 0;
	}

	article {
		padding: $ls;

		/* Stack date and author cleanly */
		.post-meta {
			flex-direction: column;
			align-items: flex-start;
			gap: 0;
		}

		.meta-separator {
			display: none;
		}

		h1 {
			font-size: 1.5rem;
			line-height: $ls;
		}

		h2 {
			font-size: 1rem;
		}
	}
}
